### ```zookeeper```保证的CAP中的几个特性

CAP: ```Consistency``` 一致性、```Availability```可用性、 ```Partition tolerance```网络分区容错

zk 保证的是其中CP特性


### 说说zk的Paxos算法


### zk的应用

* Master节点选举

	1. 多client启动(client1,client2),同时向指定路径(/distributed_system)下创建master临时节点；同一时间只有一个client能创建成功
	2. 若client1创建成功则client1则成为master节点，client2为salve节点并对/distributed_system/master节点注册监听事件
	3. 当client1挂了或者断开连接后，临时节点会自动删掉，client2收到事件通知并开始向指定路径下创建master节点，若创建成功后则成功变更为master

* 分布式配置文件管理

* 命名服务

	```Dubbo```就使用Zk来做命名服务

* 发布订阅

* 分布式锁
	1. 多个client向指定目录注册子节点(临时序列化节点)
	2. 获取节点下所有的子节点并进行排序，判断最小节点序号是否跟自己创建的一致，如果一致则获取锁，若不一致则监听比自己小序列节点事件
	3. 当比自己小节点变更时(节点删除时表示拥有者释放了锁)，获取事件再次执行2判断


* 分布式系统协调

 理论上描述一下，系统A接收到请求后，进行了本地操作，然后发送MQ后等待系统B消费MQ处理，在B处理后针对处理结果系统A再接着做后续的事情，那么系统A怎么才知道系统B的结果呢(除去同步调用）?这里就可以利用zk来做分布式系统了解，在系统A成功处理本地发送MQ后针对此消息在zk上注册一个节点，系统B在消费MQ后更新zk上的节点状态，这样系统A就马上感知到了操作。

* 集群监控