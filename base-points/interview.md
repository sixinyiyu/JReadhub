
### 说说你对AQS的理解?

AQS的全称是 ```AbstractQueuedSynchronizer```，抽象队列同步器。提供了底层的加锁实现(内部有个state变量、加锁线程、等待加锁队列)

每次线程操作加锁的流程：线程A首先尝试加锁(lock)利用CAS算法设置state变量值为1(0---->1)成功则表示加锁成功(成功获取锁)，并将加锁线程设置为线程A，若CAS操作失败，则说明有别人已经加锁了，然后查看一下加锁线程是不是自己，如果是自己就也是加锁成功(原本自己就持有锁)；如果不是则说明其他线程持有锁，那自己就跑到加锁队列中排队去。等持有锁的线程释放锁后，会唤醒加锁列表中的线程来重新执行加锁过程。


可重入加锁：就是你可以对一个ReentrantLock对象多次执行lock()加锁和unlock()释放锁，也就是可以对一个锁加多次。

ReentrantLock 默认是非公平锁